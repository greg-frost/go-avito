# Avito Internship

К сожалению, я не успел разобраться с **Docker** и **Docker Compose** *(оставил Dockerfile только для примера)*, поэтому для деплоя необходимо наличие **PostgreSQL 14+**, а при запуске проекта (`cmd/api/main.go`) и интеграционного теста (`test/integration/integration_test.go`) следует задать следующие переменные окружения для подключения к БД:

**Обязательные**

- **DB_USER**: имя пользователя
- **DB_PASS**: пароль пользователя
- **DB_NAME**: название базы данных *(должна существовать)*

**Дополнительные**

- **DB_HOST**: сервер *(по умолчанию: localhost)*
- **DB_PORT**: порт *(по умолчанию: 5432)*

Также хочу уточнить, что я написал тесты только для непосредственного функционала API и для метода аутентификации, а для небольших файлов, хранилища и моков БД - не написал, потому что просто не успел.

Но функционал БД косвенно тестируется в интеграционном тесте, а прочие функции - в общем тесте API (`internal/handler/handlers_test.go`).

Имея больше времени, я бы протестировал все файлы (кроме, может быть, моков), а для хранилища БД написал бы интеграционный тест или использовал похожую технику в обычном тесте.

И еще я забыл сделать передачу контекста с таймаутом в методы БД, чтобы прерывать их, если прервется запрос (а таймауты для самого сервера задал довольно большие).

Пожалуй, это все недостатки, которые я сам увидел, понял, но не успел исправить.

Также хочу заметить, что мне сначала 11 апреля отказали по результатам тестирования, а 15 апреля вернули в отбор, поэтому, возможно, это как-то повлияло на результат.

Но я старался! Просидел 6 дней по 6-8 часов над этим заданием. Надеюсь, у меня получилось.